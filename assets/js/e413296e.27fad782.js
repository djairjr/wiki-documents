"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[58753],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),m=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=m(e.components);return o.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),c=m(n),p=i,h=c["".concat(l,".").concat(p)]||c[p]||u[p]||a;return n?o.createElement(h,s(s({ref:t},d),{},{components:n})):o.createElement(h,s({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=p;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[c]="string"==typeof e?e:i,s[1]=r;for(var m=2;m<a;m++)s[m]=n[m];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},99009:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>m});var o=n(87462),i=(n(67294),n(3905));const a={description:"Accessing ESPHome with XIAO ESP32C3",title:"XIAO ESP32C3 accesses Home Assistant via ESPHome service",keywords:["ESPHome"],image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/xiao-esp32c3-esphome",last_update:{date:"03/03/2023",author:"Citric"}},s="XIAO ESP32C3 accesses Home Assistant via ESPHome service",r={unversionedId:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/Application/xiao-esp32c3-esphome",id:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/Application/xiao-esp32c3-esphome",title:"XIAO ESP32C3 accesses Home Assistant via ESPHome service",description:"Accessing ESPHome with XIAO ESP32C3",source:"@site/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/Application/xiao-esp32c3-esphome.md",sourceDirName:"Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/Application",slug:"/xiao-esp32c3-esphome",permalink:"/xiao-esp32c3-esphome",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SeeedStudio_XIAO/SeeedStudio_XIAO_ESP32C3/Application/xiao-esp32c3-esphome.md",tags:[],version:"current",lastUpdatedBy:"Citric",lastUpdatedAt:1677801600,formattedLastUpdatedAt:"Mar 3, 2023",frontMatter:{description:"Accessing ESPHome with XIAO ESP32C3",title:"XIAO ESP32C3 accesses Home Assistant via ESPHome service",keywords:["ESPHome"],image:"https://files.seeedstudio.com/wiki/seeed_logo/logo_2023.png",slug:"/xiao-esp32c3-esphome",last_update:{date:"03/03/2023",author:"Citric"}},sidebar:"ProductSidebar",previous:{title:"Bluetooth",permalink:"/XIAO_ESP32C3_Bluetooth_Usage"},next:{title:"XIAO ESP32C3-Chatgpt",permalink:"/xiaoesp32c3-chatgpt"}},l={},m=[{value:"Getting Started",id:"getting-started",level:2},{value:"Select your Home Assistant environment",id:"select-your-home-assistant-environment",level:2},{value:"Install ESPHome in Home Assistant",id:"install-esphome-in-home-assistant",level:2},{value:"Step 1. Install ESPHome",id:"step-1-install-esphome",level:3},{value:"Configure the XIAO ESP32C3 and ESPHome connection",id:"configure-the-xiao-esp32c3-and-esphome-connection",level:2},{value:"Step 2. Hardware preparation",id:"step-2-hardware-preparation",level:3},{value:"Step 3. Download the sensor library to your Home Assistant",id:"step-3-download-the-sensor-library-to-your-home-assistant",level:3},{value:"Step 4. Keep the XIAO ESP32C3 and Home Assistant on the same LAN",id:"step-4-keep-the-xiao-esp32c3-and-home-assistant-on-the-same-lan",level:3},{value:"Step 5. Change the XIAO ESP32C3 configuration yaml file",id:"step-5-change-the-xiao-esp32c3-configuration-yaml-file",level:3},{value:"Step 6. Upload firmware to XIAO ESP32C3",id:"step-6-upload-firmware-to-xiao-esp32c3",level:3},{value:"Configure Home Assistant Panel",id:"configure-home-assistant-panel",level:2},{value:"Step 7. Connect to XIAO ESP32C3",id:"step-7-connect-to-xiao-esp32c3",level:3},{value:"Step 8. 24GHz mmWave Module Lite functions overview",id:"step-8-24ghz-mmwave-module-lite-functions-overview",level:3},{value:"Step 9. Configure Home Assistant panel",id:"step-9-configure-home-assistant-panel",level:3},{value:"Connect Grove to Home Assistant using XIAO ESP32C3",id:"connect-grove-to-home-assistant-using-xiao-esp32c3",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"FAQ1: I got the following error while uploading firmware using ESPhome Web tool, how can I fix it?",id:"faq1-i-got-the-following-error-while-uploading-firmware-using-esphome-web-tool-how-can-i-fix-it",level:3},{value:"FAQ2: I can&#39;t install esphome flasher under Linux following the tutorial of esphome flasher?",id:"faq2-i-cant-install-esphome-flasher-under-linux-following-the-tutorial-of-esphome-flasher",level:3},{value:"FAQ3: I filled in the correct WiFi and password, why don&#39;t I see the IP address of the XIAO ESP32C3?",id:"faq3-i-filled-in-the-correct-wifi-and-password-why-dont-i-see-the-ip-address-of-the-xiao-esp32c3",level:3},{value:"FAQ4: My XIAO ESP32C3 is connected to network, but why don&#39;t I see the sensor data refreshed?",id:"faq4-my-xiao-esp32c3-is-connected-to-network-but-why-dont-i-see-the-sensor-data-refreshed",level:3},{value:"FAQ5: I used the Jlink flash firmware, but I got the error &quot;Programming of range @address 0x08000000 failed (block verification error) Program failed Failed to program and verify target&quot; ?",id:"faq5-i-used-the-jlink-flash-firmware-but-i-got-the-error-programming-of-range-address-0x08000000-failed-block-verification-error-program-failed-failed-to-program-and-verify-target-",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],d={toc:m},c="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"xiao-esp32c3-accesses-home-assistant-via-esphome-service"},"XIAO ESP32C3 accesses Home Assistant via ESPHome service"),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("img",{src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/78.jpg",style:{width:700,height:"auto"}})),(0,i.kt)("p",null,"This article will guide you through the installation of the ESPHome service in your own Home Assistant environment. By using the WiFi function of the XIAO ESP32C3, you will be able to connect your XIAO to the Home Assistant as part of your home terminal in a very smooth way."),(0,i.kt)("p",null,"In addition, we will build a Home Assistant with human presence detection in combination with the most popular 24GHz mmWave Human Static Presence Module Lite."),(0,i.kt)("h2",{id:"getting-started"},"Getting Started"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"As of 31 July 2023, the previous issue that would cause the radar to completely die has now been fixed, so please update the library files and configurator for this tutorial species to work properly.")),(0,i.kt)("p",null,"If you want to follow this tutorial through everything, you will need to prepare the following."),(0,i.kt)("table",{align:"center"},(0,i.kt)("tbody",null,(0,i.kt)("tr",null,(0,i.kt)("th",null,"XIAO ESP32C3"),(0,i.kt)("th",null,"24GHz mmWave Human Static",(0,i.kt)("br",null),"Presence Module Lite")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"https://files.seeedstudio.com/wiki/XIAO_WiFi/board-pic.png",style:{width:100,height:"auto"}}))),(0,i.kt)("td",null,(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"https://files.seeedstudio.com/wiki/Radar_MR24HPCB1/0.jpg",style:{width:210,height:"auto"}})))),(0,i.kt)("tr",null,(0,i.kt)("td",{align:"center"},(0,i.kt)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.kt)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/Seeed-XIAO-ESP32C3-p-5431.html"},(0,i.kt)("strong",null,(0,i.kt)("span",null,(0,i.kt)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f")))))),(0,i.kt)("td",{align:"center"},(0,i.kt)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.kt)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/24GHz-mmWave-Sensor-Human-Static-Presence-Module-Lite-p-5524.html"},(0,i.kt)("strong",null,(0,i.kt)("span",null,(0,i.kt)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))))))),(0,i.kt)("p",null,"The ultimate goal of this project is to deploy 24GHz mmWave Human Static Presence Module Lite in the Home Assistant."),(0,i.kt)("p",null,"We have written complete configuration files and libraries for the 24GHz mmWave Human Static Presence Module Lite to facilitate your rapid deployment of sensor to Home Assistant in this project."),(0,i.kt)("p",null,"The content of this tutorial will broadly go through the following steps."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#select-your-home-assistant-environment"},"Select your Home Assistant environment")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#install-and-configure-esphome-in-home-assistant"},"Install and cofigure ESPHome in Home Assistant")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#configure-the-xiao-esp32c3-and-esphome-connection"},"Configure the XIAO ESP32C3 and ESPHome connection")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#configure-home-assistant-panel"},"Configure Home Assistant Panel"))),(0,i.kt)("p",null,"Of course, if you are interested in how the XIAO ESP32C3 uses Grove in the Home Assistant, you can read this chapter directly."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#connect-grove-to-home-assistant-using-xiao-esp32c3"},"Connect Grove to Home Assistant using XIAO ESP32C3"))),(0,i.kt)("h2",{id:"select-your-home-assistant-environment"},"Select your Home Assistant environment"),(0,i.kt)("p",null,"In this routine, we will not expand on how to install the Home Assistant environment, we will assume that you already have a working Home Assistant device."),(0,i.kt)("p",null,"If you wish to learn how to install Home Assistant, then you can refer to the ",(0,i.kt)("a",{parentName:"p",href:"https://www.home-assistant.io/installation/"},"official tutorial"),". We strongly recommend that you install Home Assistant using an x86 device as this is the most user friendly way for you to install Home Assistant with Supervised."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/77.png"})),(0,i.kt)("p",null,"According to the table above, it is most appropriate to install ",(0,i.kt)("strong",{parentName:"p"},"Home Assistant OS")," and ",(0,i.kt)("strong",{parentName:"p"},"Home Assistant Supervised"),", which will take a lot of hassle off your hands. If you are running Home Assistant on Docker with OpenWRT (e.g. using LinkStar H68K), please don't worry, we will also provide you with a detailed reference on how to do this."),(0,i.kt)("p",null,"We have also written how to install Home Assistant for some of Seeed Studio products, please refer to them."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/ODYSSEY-X86-Home-Assistant/"},"Getting Started with Home Assistant on ODYSSEY-X86")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/reTerminal_Home_Assistant/"},"Getting Started with Home Assistant on reTerminal")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/h68k-ha-esphome/"},"Getting Started with Home Assistant on LinkStar H68K/reRouter CM4"))),(0,i.kt)("h2",{id:"install-esphome-in-home-assistant"},"Install ESPHome in Home Assistant"),(0,i.kt)("h3",{id:"step-1-install-esphome"},"Step 1. Install ESPHome"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Scenario 1: ESPHome installation under Home Assistant OS (with Add-on Store)"))),(0,i.kt)("p",null,"If you have the Home Assistant OS installed, it has an Add-on Store, which makes it much easier to install ESPHome."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/79.png"})),(0,i.kt)("p",null,"In the Add-on Store, you can search for and install ESPHome."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/80.png"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Scenario 2: ESPHome installed under Home Assistant under OpenWRT Docker/Docker (without Add-on Store)"))),(0,i.kt)("p",null,"As we are installing the Home Assistant Container, we cannot simply download the ESPHome service via the Add-on Store, so a compromise is needed."),(0,i.kt)("p",null,"We need to download the ESPHome image."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"esphome/esphome:latest\n")),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/17.png"})),(0,i.kt)("p",null,"On the page where the container is created, we need to make some simple settings."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Container Name: your container name"),(0,i.kt)("li",{parentName:"ul"},"Docker Image: choose just downloaded ",(0,i.kt)("strong",{parentName:"li"},"esphome")," image"),(0,i.kt)("li",{parentName:"ul"},"Network: choose ",(0,i.kt)("strong",{parentName:"li"},"host")," mode"),(0,i.kt)("li",{parentName:"ul"},"Environment Variables(-e): your environment variable")),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/18.png"})),(0,i.kt)("p",null,"Once you have filled in the above, save and apply. You will see that the Container has been created. You also need to start it."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/19.png"})),(0,i.kt)("p",null,"In order to achieve the same effect as downloading ESPHome in Home Assistant, we need to modify the configuration file under Home Assistant."),(0,i.kt)("p",null,"Go to the Home Assistant Container."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/55.png"})),(0,i.kt)("p",null,"We go to the terminal in Home Assistant."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/56.png"})),(0,i.kt)("p",null,"Enter the following command in the terminal."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"vi configuration.yaml\n")),(0,i.kt)("p",null,"Add following content to the end of ",(0,i.kt)("inlineCode",{parentName:"p"},"configuration.yaml"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'# Example configuration.yaml entry\npanel_iframe:\n  esphome:\n    title: "ESPHome"\n    url: "http://192.168.100.1:6052"\n    icon: mdi:chip\n')),(0,i.kt)("p",null,"Exit the docker container by type ",(0,i.kt)("inlineCode",{parentName:"p"},"exit")," in the Home Assistant Container shell. Once this is done, we restart the Home Assistant  container."),(0,i.kt)("p",null,"Create a new browser page, enter address ",(0,i.kt)("inlineCode",{parentName:"p"},"http://homeassistant:8123/")," and enter your Home Assistant account and you will see ESPHome appear in the toolbar on the left."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/57.png"})),(0,i.kt)("h2",{id:"configure-the-xiao-esp32c3-and-esphome-connection"},"Configure the XIAO ESP32C3 and ESPHome connection"),(0,i.kt)("h3",{id:"step-2-hardware-preparation"},"Step 2. Hardware preparation"),(0,i.kt)("p",null,"The goal of our tutorial is to be able to see the data information of the 24GHz mmWave Human Static Presence Module Lite in the Home Assistant dashboard."),(0,i.kt)("p",null,"Connect the device to the computer through the main board. The wiring diagram is shown in the table below."),(0,i.kt)("div",{class:"table-center"},(0,i.kt)("table",{align:"center"},(0,i.kt)("tbody",null,(0,i.kt)("tr",null,(0,i.kt)("td",{colspan:"3"},(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/esphome-pinconnect.png"})))),(0,i.kt)("tr",null,(0,i.kt)("td",{align:"center"},"XIAO ESP32C3"),(0,i.kt)("td",{align:"center"}),(0,i.kt)("td",{align:"center"},"24GHz mmWave Human Static",(0,i.kt)("br",null),"Presence Module Lite")),(0,i.kt)("tr",null,(0,i.kt)("td",{align:"center"},"5V"),(0,i.kt)("td",{align:"center"},"--\x3e"),(0,i.kt)("td",{align:"center"},"5V")),(0,i.kt)("tr",null,(0,i.kt)("td",{align:"center"},"GND"),(0,i.kt)("td",{align:"center"},"--\x3e"),(0,i.kt)("td",{align:"center"},"GND")),(0,i.kt)("tr",null,(0,i.kt)("td",{align:"center"},"D2"),(0,i.kt)("td",{align:"center"},"--\x3e"),(0,i.kt)("td",{align:"center"},"RX")),(0,i.kt)("tr",null,(0,i.kt)("td",{align:"center"},"D3"),(0,i.kt)("td",{align:"center"},"--\x3e"),(0,i.kt)("td",{align:"center"},"TX"))))),(0,i.kt)("h3",{id:"step-3-download-the-sensor-library-to-your-home-assistant"},"Step 3. Download the sensor library to your Home Assistant"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Scenario 1: ESPHome installation under Home Assistant OS (with Add-on Store)"))),(0,i.kt)("p",null,"In order to download some files from Home Assistant, we need to use the Terminal & SSH service."),(0,i.kt)("p",null,"Please ensure that you have enabled Advanced Mode."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/81.png"})),(0,i.kt)("p",null,"Then you can search for the add-on ",(0,i.kt)("strong",{parentName:"p"},"Terminal & SSH")," in the Add-on Store, please install it."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/82.png"})),(0,i.kt)("p",null,"Once the installation is complete, you will be able to see the Terminal tool in the left-hand toolbar, which you can access by clicking on it in the bash window."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/83.png"})),(0,i.kt)("p",null,"Enter the following command in the terminal."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"cd /config/esphome/\ncurl -o R24dvd_new.h https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/R24dvd_new.h\n")),(0,i.kt)("p",null,"In this way, you have installed the dependencies needed for the sensors under the specified path in Home Assistant."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Scenario 2: ESPHome installed under Home Assistant under OpenWRT Docker/Docker (without Add-on Store)"))),(0,i.kt)("p",null,"Click on the ESPHome Container."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:"{800}",src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/48.png"})),(0,i.kt)("p",null,"We go to the terminal in ESPHome."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:"{800}",src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/49.png"})),(0,i.kt)("p",null,"Enter the following command in the terminal."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"curl -o R24dvd_new.h https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/R24dvd_new.h\n")),(0,i.kt)("p",null,"Wait a few moments and the sensor library will be downloaded to the ESPHome Container root directory."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:"{800}",src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/50.png"})),(0,i.kt)("h3",{id:"step-4-keep-the-xiao-esp32c3-and-home-assistant-on-the-same-lan"},"Step 4. Keep the XIAO ESP32C3 and Home Assistant on the same LAN"),(0,i.kt)("p",null,"I am sure that your Home Assistant has already done the work of getting into the network, for example by connecting to your device via a network cable. All you need to do then is simply to turn on a local network (e.g. WiFi) so that the XIAO ESP32C3 can also connect to this network."),(0,i.kt)("p",null,"I will use the LinkStar H68K as an example below. My aim is to get the XIAO connected to the LinkStar H68K's hotspot."),(0,i.kt)("p",null,"In the ",(0,i.kt)("strong",{parentName:"p"},"Network")," tab in OpenWRT, select ",(0,i.kt)("strong",{parentName:"p"},"Wireless")," --\x3e ",(0,i.kt)("strong",{parentName:"p"},"ADD"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/58.png"})),(0,i.kt)("p",null,"For ",(0,i.kt)("strong",{parentName:"p"},"Transmit Power")," in ",(0,i.kt)("strong",{parentName:"p"},"Device Configuration"),", select ",(0,i.kt)("strong",{parentName:"p"},"auto"),"."),(0,i.kt)("p",null,"For the ",(0,i.kt)("strong",{parentName:"p"},"Interface Configuration")," settings, please fill in the following instructions."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"General Setup",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Mode: Depends on how LinkStar accesses the internet. If you are using a cable connection then select ",(0,i.kt)("strong",{parentName:"li"},"Client"),", if you are connected to WiFi then select ",(0,i.kt)("strong",{parentName:"li"},"Access Point"),"."),(0,i.kt)("li",{parentName:"ul"},"ESSID: Enter the name of your WiFi, please try not to have spaces or special characters."),(0,i.kt)("li",{parentName:"ul"},"Network: check ",(0,i.kt)("strong",{parentName:"li"},"lan"),".")))),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/23.png"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Wireless Security",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Encryption: WPA2-PSK"),(0,i.kt)("li",{parentName:"ul"},"Key: Enter the WiFi password you wish to set.")))),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/24.png"})),(0,i.kt)("p",null,"Once you have filled in the above information, click ",(0,i.kt)("strong",{parentName:"p"},"Save and Apply")," in the bottom right hand corner and wait a few moments for LinkStar to open a hotspot."),(0,i.kt)("p",null,"When no device is connected to this hotspot, it will be displayed as no signal."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/60.png"})),(0,i.kt)("p",null,"All things considered, let's return to the Home Assistant page."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/61.png"})),(0,i.kt)("p",null,"Click on the ",(0,i.kt)("strong",{parentName:"p"},"NEW DEVICE"),". Then click on ",(0,i.kt)("strong",{parentName:"p"},"Continue"),"."),(0,i.kt)("p",null,"Under the new pop-up window, please enter the name of the application you wish to set up, as well as the name and password of the hotspot you have set up in LinkStar (Or your own WiFi). Make sure that the XIAO ESP32C3 and Home Assistant on the ",(0,i.kt)("strong",{parentName:"p"},"same LAN"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/25.png"})),(0,i.kt)("p",null,"Then click ",(0,i.kt)("strong",{parentName:"p"},"Next"),"."),(0,i.kt)("p",null,"In the device type, please select ",(0,i.kt)("strong",{parentName:"p"},"ESP32-C3"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/26.png"})),(0,i.kt)("p",null,"Then click ",(0,i.kt)("strong",{parentName:"p"},"Next"),"."),(0,i.kt)("span",{id:"jump1"},"Click on the **Encryption key** and save it in a secure location, we will use this key in a later step."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/27.png"})),(0,i.kt)("p",null,"Then click ",(0,i.kt)("strong",{parentName:"p"},"SKIP"),"."),(0,i.kt)("h3",{id:"step-5-change-the-xiao-esp32c3-configuration-yaml-file"},"Step 5. Change the XIAO ESP32C3 configuration yaml file"),(0,i.kt)("p",null,"Then, we click on the device tab we just created, with the ",(0,i.kt)("strong",{parentName:"p"},"EDIT")," button in the bottom left corner."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/28.png"})),(0,i.kt)("p",null,"Please note that we need to make changes to this yaml file. We have divided the content to be modified into two main parts, corresponding to one and two in the diagram below."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/62.png"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"In the ",(0,i.kt)("strong",{parentName:"li"},"\u2460")," of the content, please do not change the device name except the one you have configured, please refer to the code below for the rest of the content.")),(0,i.kt)("div",{class:"github_container",style:{textAlign:"center"}},(0,i.kt)("a",{class:"github_item",href:"https://github.com/limengdu/MR24HPC1_HomeAssistant/blob/main/xiaoesp32c3-mr24hpc1_part1_new.yaml"},(0,i.kt)("strong",null,(0,i.kt)("span",null,(0,i.kt)("font",{color:"FFFFFF",size:"4"}," Download the Code")))," ",(0,i.kt)("svg",{"aria-hidden":"true",focusable:"false",role:"img",className:"mr-2",viewBox:"-3 10 9 1",width:16,height:16,fill:"currentColor",style:{textAlign:"center",display:"inline-block",userSelect:"none",verticalAlign:"text-bottom",overflow:"visible"}},(0,i.kt)("path",{d:"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"})))),(0,i.kt)("br",null),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# part 1:\nesphome:\n  name: <your device name>    //Please note that your device name is retained here\n  platformio_options:\n    board_build.flash_mode: dio\n    board_build.mcu: esp32c3\n  includes:\n  - R24dvd_new.h\n\nesp32:\n  board: esp32-c3-devkitm-1\n  variant: esp32c3\n  framework:\n    type: esp-idf\n\n# Enable logging\nlogger:\n  hardware_uart: USB_SERIAL_JTAG\n  level: DEBUG\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"In the ",(0,i.kt)("strong",{parentName:"li"},"\u2461"),' of the content, delete the words "captive_portal:" and replace with the following.')),(0,i.kt)("div",{class:"github_container",style:{textAlign:"center"}},(0,i.kt)("a",{class:"github_item",href:"https://github.com/limengdu/MR24HPC1_HomeAssistant/blob/main/xiaoesp32c3-mr24hpc1_part2_new.yaml"},(0,i.kt)("strong",null,(0,i.kt)("span",null,(0,i.kt)("font",{color:"FFFFFF",size:"4"}," Download the Code")))," ",(0,i.kt)("svg",{"aria-hidden":"true",focusable:"false",role:"img",className:"mr-2",viewBox:"-3 10 9 1",width:16,height:16,fill:"currentColor",style:{textAlign:"center",display:"inline-block",userSelect:"none",verticalAlign:"text-bottom",overflow:"visible"}},(0,i.kt)("path",{d:"M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"})))),(0,i.kt)("br",null),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Click here to preview the full code"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'uart:\n  id: uart_bus\n  baud_rate:  115200\n  rx_pin: 5\n  tx_pin: 4\n\nselect:\n  - platform: template\n    name: "Standard Scene mode"\n    id: scene_mode\n    icon: mdi:hoop-house\n    optimistic: true\n    options:\n      - "Living room"\n      - "Area detection"\n      - "Washroom"\n      - "Bedroom"\n    initial_option: "Living room"\n    set_action:\n      - logger.log:\n            format: "set action option: %s"\n            args: ["x.c_str()"]\n      - uart.write: !lambda\n                  auto index = id(scene_mode).index_of(x);\n                  uint8_t value = (uint8_t)index.value() + 1;\n                  uint8_t crc = value + 0xB9;\n                  return {0x53,0x59,0x05,0x07,0x00,0x01,value,crc,0x54,0x43};\n\n  - platform: template\n    name: "Standard unmanned time"\n    id: unmanned_time\n    icon: mdi:timeline-clock\n    optimistic: true\n    options:\n      - "None"\n      - "10s"\n      - "30s"\n      - "1min"\n      - "2min" \n      - "5min" \n      - "10min"\n      - "30min"\n      - "1hour"\n    initial_option: "None"\n    set_action:\n      - logger.log:\n            format: "Chosen option: %s"\n            args: ["x.c_str()"]\n      - uart.write: !lambda\n                  auto index = id(unmanned_time).index_of(x);\n                  uint8_t value = (uint8_t)index.value();\n                  uint8_t crc = value + 0x37;\n                  return {0x53,0x59,0x80,0x0a,0x00,0x01,value,crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Presence of perception boundary"\n    id: custom_presence_of_perception_boundary\n    optimistic: true\n    options:\n      - "0.5m"\n      - "1.0m"\n      - "1.5m"\n      - "2.0m" \n      - "2.5m" \n      - "3.0m"\n      - "3.5m"\n      - "4.0m"\n      - "4.5m"\n      - "5.0m"\n    set_action:\n      - logger.log:\n            format: "Chosen option: %s"\n            args: ["x.c_str()"]\n      - uart.write: !lambda\n                  auto index = id(unmanned_time).index_of(x);\n                  uint8_t value = (uint8_t)index.value() + 1;\n                  uint8_t crc = value + 0xBF;\n                  return {0x53,0x59,0x08,0x0a,0x00,0x01,value,crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Motion trigger boundary"\n    id: custom_motion_trigger_boundary\n    optimistic: true\n    options:\n      - "0.5m"\n      - "1.0m"\n      - "1.5m"\n      - "2.0m" \n      - "2.5m" \n      - "3.0m"\n      - "3.5m"\n      - "4.0m"\n      - "4.5m"\n      - "5.0m"\n    set_action:\n      - logger.log:\n            format: "Chosen option: %s"\n            args: ["x.c_str()"]\n      - uart.write: !lambda\n                  auto index = id(unmanned_time).index_of(x);\n                  uint8_t value = (uint8_t)index.value() + 1;\n                  uint8_t crc = value + 0xC0;\n                  return {0x53,0x59,0x08,0x0b,0x00,0x01,value,crc,0x54,0x43};\n \nnumber:\n  - platform: template\n    id: sensitivity\n    name: "Standard sensitivity"\n    icon: mdi:archive-check-outline\n    min_value: 0\n    max_value: 3\n    optimistic: false\n    step: 1\n    update_interval: 2s\n    set_action:\n      - uart.write: !lambda\n                    uint8_t crc = x + 0xBA;\n                    return {0x53,0x59,0x05,0x08,0x00,0x01,(uint8_t)x,crc,0x54,0x43};\n \n  - platform: template\n    name: "Standard Maximum detectable range of moving target"\n    id: moving_target_detection_max_distance\n    icon: mdi:map-marker-path\n    unit_of_measurement: "cm"\n    min_value: 0\n    max_value: 65536\n    step: 500\n    set_action:\n      - uart.write: !lambda\n                    int h_num = (int)x >> 8;\n                    int l_num = (int)x & 0xff;\n                    int crc = 0xB6 + h_num + l_num;\n                    return {0x53,0x59,0x07,0x01,0x00,0x02,(uint8_t)(h_num),(uint8_t)(l_num),(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Standard Maximum detectable range of stationary target"\n    id: static_target_detection_max_distance\n    icon: mdi:map-marker-path\n    unit_of_measurement: cm\n    min_value: 0\n    max_value: 65536\n    step: 500\n    set_action:\n      - uart.write: !lambda\n                    int h_num = (int)x >> 8;\n                    int l_num = (int)x & 0xff;\n                    int crc = 0xB9 + h_num + l_num;\n                    return {0x53,0x59,0x07,0x04,0x00,0x02,(uint8_t)(h_num),(uint8_t)(l_num),(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Judgment threshold exists"\n    id: custom_judgment_threshold_exists\n    min_value: 0\n    max_value: 250\n    step: 1\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xBD + (int)x;\n                    return {0x53,0x59,0x08,0x08,0x00,0x01,(uint8_t)x,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Motion amplitude trigger threshold"\n    id: custom_motion_amplitude_trigger_threshold\n    min_value: 0\n    max_value: 250\n    step: 1\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xBE + (int)x;\n                    return {0x53,0x59,0x08,0x09,0x00,0x01,(uint8_t)x,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Mode Settings"\n    id: custom_mode_settings\n    icon: mdi:cog\n    min_value: 0\n    max_value: 250\n    step: 1\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xBB + (int)x;\n                    return {0x53,0x59,0x05,0x09,0x00,0x01,(uint8_t)x,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Mode Settings End"\n    id: custom_mode_setting_completed\n    icon: mdi:cog\n    min_value: 0\n    max_value: 250\n    step: 1\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xBC + (int)x;\n                    return {0x53,0x59,0x05,0x0a,0x00,0x01,(uint8_t)x,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Custom Mode Query"\n    icon: mdi:cog\n    id: custom_mode_query\n    min_value: 0\n    max_value: 250\n    step: 1\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0x3B + (int)x;\n                    return {0x53,0x59,0x05,0x89,0x00,0x01,(uint8_t)x,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Motion trigger time"\n    id: custom_motion_trigger_time\n    icon: mdi:camera-timer\n    unit_of_measurement: "ms"\n    min_value: 0\n    max_value: 4294967295\n    step: 5000\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xC4 + (int)x;\n                    int h24_num = ((int)x >> 24) & 0xff;\n                    int h16_num = ((int)x >> 16) & 0xff;\n                    int h8_num = ((int)x >> 8) & 0xff;\n                    int l8_num = (int)x & 0xff;\n                    return {0x53,0x59,0x08,0x0c,0x00,0x04,(uint8_t)h24_num,(uint8_t)h16_num,(uint8_t)h8_num,(uint8_t)l8_num,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Movement to rest time"\n    id: custom_movement_to_rest_time\n    icon: mdi:camera-timer\n    unit_of_measurement: "ms"\n    min_value: 0\n    max_value: 4294967295\n    step: 5000\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xC5 + (int)x;\n                    int h24_num = ((int)x >> 24) & 0xff;\n                    int h16_num = ((int)x >> 16) & 0xff;\n                    int h8_num = ((int)x >> 8) & 0xff;\n                    int l8_num = (int)x & 0xff;\n                    return {0x53,0x59,0x08,0x0d,0x00,0x04,(uint8_t)h24_num,(uint8_t)h16_num,(uint8_t)h8_num,(uint8_t)l8_num,(uint8_t)crc,0x54,0x43};\n \n  - platform: template\n    name: "Custom Time of entering unmanned state"\n    id: custom_time_of_enter_unmanned\n    icon: mdi:camera-timer\n    unit_of_measurement: "ms"\n    min_value: 0\n    max_value: 4294967295\n    step: 5000\n    set_action:\n      - uart.write: !lambda\n                    int crc = 0xC6 + (int)x;\n                    int h24_num = ((int)x >> 24) & 0xff;\n                    int h16_num = ((int)x >> 16) & 0xff;\n                    int h8_num = ((int)x >> 8) & 0xff;\n                    int l8_num = (int)x & 0xff;\n                    return {0x53,0x59,0x08,0x0e,0x00,0x04,(uint8_t)h24_num,(uint8_t)h16_num,(uint8_t)h8_num,(uint8_t)l8_num,(uint8_t)crc,0x54,0x43};\n \ntext_sensor:\n- platform: custom\n  lambda: |-\n    auto my_custom_sensor = new MyCustomTextSensor();\n    App.register_component(my_custom_sensor);\n    return {my_custom_sensor->Heartbeat};\n \n  text_sensors:\n    - name: "Standard Heartbeat"\n      icon: mdi:connection\n \n- platform: template\n  name: "Standard Product model"\n  id: product_mode\n  icon: mdi:information-outline\n  on_raw_value:\n    then:\n      - logger.log: text_sensor on_raw_value\n \n- platform: template\n  name: "Standard Product ID"\n  id: product_id\n  icon: mdi:information-outline\n \n- platform: template\n  name: "Standard Hardware model"\n  id: hardware_model\n  icon: mdi:information-outline\n \n- platform: template\n  name: "Standard Firmware version"\n  id: firmware_version\n  icon: mdi:information-outline\n \n- platform: template\n  name: "Standard protocol type"\n  id: protocol_type\n  icon: mdi:information-outline\n \n- platform: template\n  name: "Standard moving direction"\n  id: keep_away\n  icon: mdi:walk\n \n- platform: template\n  name: "Standard Sports information"\n  id: motion_status\n  icon: mdi:human-greeting\n \n- platform: template\n  name: "Standard Presence information"\n  id: someoneExists\n  icon: "mdi:motion-sensor"\n \n- platform: template\n  name: "Custom Presence of detection"\n  id: custom_presence_of_detection\n  icon: mdi:signal-distance-variant\n \n# - platform: template\n#   name: "Custom Motion distance"\n#   id: custom_motion_distance\n \n# - platform: template\n#   name: "Custom Static distance"\n#   id: custom_static_distance\n \n# - platform: template\n#   name: "Custom Spatial static value"\n#   id: custom_spatial_static_value\n \n# - platform: template\n#   name: "Custom Spatial motion value"\n#   id: custom_spatial_motion_value\n \n# - platform: template\n#   name: "Custom Motion speed"\n#   id: custom_motion_speed\n \n \nbutton:\n  - platform: template\n    name: "Standard reset"\n    id: "reset"\n    icon: mdi:reload\n    on_press:\n      then:\n        - logger.log: Button Pressed\n        - uart.write: [0x53,0x59,0x01,0x02,0x00,0x01,0x0F,0xBF,0x54,0x43]\n \nswitch:\n  - platform: template\n    id: output_info_switch\n    name: "Custom Infor output switch"\n    icon: mdi:electric-switch\n    assumed_state: true\n    turn_on_action:\n      - uart.write: [0x53,0x59,0x08,0x00,0x00,0x01,0x01,0xB6,0x54,0x43]\n      - delay: 1s\n      - lambda: !lambda |-\n          id(product_mode).publish_state("");\n          id(product_id).publish_state("");\n          id(hardware_model).publish_state("");\n          id(firmware_version).publish_state("");\n          id(protocol_type).publish_state("");\n    turn_off_action:\n      - uart.write: [0x53,0x59,0x08,0x00,0x00,0x01,0x00,0xB5,0x54,0x43]\n\nsensor:\n- platform: custom\n  lambda: |-\n    auto my_custom_sensor = new UartReadLineSensor(id(uart_bus));\n    App.register_component(my_custom_sensor);\n    return {\n      my_custom_sensor->movementSigns,\n      my_custom_sensor->inited,\n    };\n  sensors:\n    - name: "Standard body movement"\n      id: movementSigns\n      icon: "mdi:human-greeting-variant"\n      device_class: "temperature"\n      state_class: "measurement"\n\n    - name: "Standard inited"\n      id: inited\n      icon: mdi:all-inclusive\n \n- platform: template\n  name: "Custom Motion distance"\n  id: custom_motion_distance\n  icon: mdi:signal-distance-variant\n  on_value:\n    then:\n      # - logger.log: Custom Motion distance on_value\n      - logger.log:\n            format: "Custom Motion distance on_value : %d"\n            args: ["x"]\n  on_raw_value:\n    then:\n      - logger.log:\n            format: "Custom Motion distance on_raw_value : %d"\n            args: ["x"]\n \n \n- platform: template\n  name: "Custom Static distance"\n  id: custom_static_distance\n  icon: mdi:signal-distance-variant\n\n- platform: template\n  name: "Custom Spatial static value"\n  id: custom_spatial_static_value\n  icon: mdi:counter\n\n- platform: template\n  name: "Custom Spatial motion value"\n  id: custom_spatial_motion_value\n  icon: mdi:counter\n\n- platform: template\n  name: "Custom Motion speed"\n  id: custom_motion_speed\n  icon: mdi:run-fast\n'))),(0,i.kt)("p",null,"Then, please click on the ",(0,i.kt)("strong",{parentName:"p"},"Save")," button in the top right corner."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/63.png"})),(0,i.kt)("h3",{id:"step-6-upload-firmware-to-xiao-esp32c3"},"Step 6. Upload firmware to XIAO ESP32C3"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Method 1: Compile and upload directly"))),(0,i.kt)("p",null,"If you are using an x86 device and can see XIAO on the device port, then you can compile and upload the program to XIAO."),(0,i.kt)("p",null,"Connect XIAO to your device."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"https://files.seeedstudio.com/wiki/ESPHome/49.png",style:{width:700,height:"auto"}})),(0,i.kt)("p",null,"Click on the three dots in the bottom right corner of the device bar and select ",(0,i.kt)("strong",{parentName:"p"},"Install"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/84.png"})),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Plug into the computer running ESPHome Dashboard"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/85.png"})),(0,i.kt)("p",null,"Select the connected port."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/ESPHome/18.png"})),(0,i.kt)("p",null,"Now it will download all the necessary board packages and flash the ESPHome firmware into the XIAO ESP32C3. If the flashing is successful, you will see the following output."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/ESPHome/19.png"})),(0,i.kt)("p",null,"If you are unable to find the port after connecting XIAO to your device, then you can try using the second method."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Method 2: Upload compiled firmware using the host"))),(0,i.kt)("p",null,"Soft routes like LinkStar H68K do not support recognition of external MCU devices, we need to download the compiled firmware first and then upload the firmware via another PC."),(0,i.kt)("p",null,"Click on the ",(0,i.kt)("strong",{parentName:"p"},"Install")," button in the top right hand corner. Then select the last item ",(0,i.kt)("strong",{parentName:"p"},"Manual download"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/30.png"})),(0,i.kt)("p",null,"Select ",(0,i.kt)("strong",{parentName:"p"},"Modern format"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/31.png"})),(0,i.kt)("p",null,"It will then take a long time to download and compile, so please be patient. Once everything is ready, the firmware will be automatically downloaded to your computer."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/33.png"})),(0,i.kt)("p",null,"To upload the firmware to XIAO ESP32C3 there are couple options here we show 2 ways of doing it:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Option 1: using the ",(0,i.kt)("a",{parentName:"li",href:"https://web.esphome.io/?dashboard_install"},"ESPhome Web tool")," to upload.")),(0,i.kt)("p",null,"Make sure you have the right drivers installed. Below are the drivers for common chips used in ESP devices."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"CP2102 drivers: ",(0,i.kt)("a",{parentName:"p",href:"https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers"},"Windows & Mac"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"CH342, CH343, CH9102 drivers: ",(0,i.kt)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH343SER_ZIP.html"},"Windowns"),", ",(0,i.kt)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH34XSER_MAC_ZIP.html"},"Mac"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"CH340, CH341 drivers: ",(0,i.kt)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH341SER_ZIP.html"},"Windowns"),", ",(0,i.kt)("a",{parentName:"p",href:"https://www.wch.cn/downloads/CH341SER_MAC_ZIP.html"},"Mac")))),(0,i.kt)("p",null,"Open the ",(0,i.kt)("a",{parentName:"p",href:"https://web.esphome.io/?dashboard_install"},"ESPhome Web tool")," with Chrome or Edge web browser."),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"CONNECT"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/34.png"})),(0,i.kt)("p",null,"select the XIAO ESP32 serial port in the popup window."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/64.png"})),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"INSTALL")," and then select the ",(0,i.kt)("inlineCode",{parentName:"p"},".bin")," file downloaded from above steps."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/35.png"})),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/38.png"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Option 2: Using the ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/esphome/esphome-flasher"},"esphome-flasher tool"),".")),(0,i.kt)("p",null,"If you are still unable to upload firmware using method one after installing the driver and changing browsers, then you can try using method two. Please refer to the official tutorial for specific installation methods and instructions."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If you wish to observe the log messages of the XIAO ESP32C3, you can also view them through the View Logs button of this software."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/41.png"}))),(0,i.kt)("p",null,"Once the upload is complete, you can disconnect the XIAO ESP32C3 from the PC (unless you have a need to view the logs) and simply power the XIAO separately."),(0,i.kt)("p",null,"If all goes well, the XIAO ESP32C3 will search for and connect to the WiFi you have set up for it. "),(0,i.kt)("p",null,"Just like me, I use LinkStar H68K's network. You can find it in the network options and see the IP address assigned to it by LinkStar H68K."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/42.png"})),(0,i.kt)("p",null,"Normally, at this point in Home Assistant, the status of the device will also change from offline to online."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/65.png"})),(0,i.kt)("h2",{id:"configure-home-assistant-panel"},"Configure Home Assistant Panel"),(0,i.kt)("h3",{id:"step-7-connect-to-xiao-esp32c3"},"Step 7. Connect to XIAO ESP32C3"),(0,i.kt)("p",null,"If you do not have many Home Assistant devices on your LAN, Home Assistant can automatically search for and add your ESP devices to the Devices tab. You can see this device inside the ",(0,i.kt)("strong",{parentName:"p"},"Devices & Services")," tab in ",(0,i.kt)("strong",{parentName:"p"},"Settings"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/66.png"})),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/67.png"})),(0,i.kt)("p",null,"If it does not automatically search, you can also connect to the XIAO ESP32C3 based on its IP address."),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"ADD INTEGRSTION")," and search for ",(0,i.kt)("strong",{parentName:"p"},"esphome"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/43.png"})),(0,i.kt)("p",null,"Then enter the IP address of the XIAO ESP32C3 with port number ",(0,i.kt)("strong",{parentName:"p"},"6053"),". Then click on ",(0,i.kt)("strong",{parentName:"p"},"SUBMIT"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/44.png"})),(0,i.kt)("p",null,"If the IP address and port number entered are correct, then you will see that you are asked to enter the Encryption key, which we asked to save in ",(0,i.kt)("a",{parentName:"p",href:"#jump1"},"step 4"),"."),(0,i.kt)("p",null,"Then click on ",(0,i.kt)("strong",{parentName:"p"},"SUBMIT"),"."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/68.png"})),(0,i.kt)("p",null,"At this point, the steps to add the device have been successfully completed."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/51.png"})),(0,i.kt)("h3",{id:"step-8-24ghz-mmwave-module-lite-functions-overview"},"Step 8. 24GHz mmWave Module Lite functions overview"),(0,i.kt)("p",null,"We come to the Home Assistant's overview tab. We give a general overview of the basic functions of the operating panel."),(0,i.kt)("p",null,"Firstly, there is the ",(0,i.kt)("strong",{parentName:"p"},"Custom Infor output switch"),". The icon on the left indicates that the information output is switched off, while the icon on the right indicates that the information output is switched on. If you want to see the sensor return information in real time, then you should have to click on the lightning bolt icon on the right."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/69.png"})),(0,i.kt)("p",null,"At the bottom of the card is a real-time data display page. Here you can observe the millimetre wave changes within the monitored environment and adjust the parameters in the card according to your location."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:400,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/70.png"})),(0,i.kt)("p",null,"Due to space limitations, you can refer to the following two documents for more information on the use of the sensor and a more detailed explanation of the parameters."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Radar_MR24HPC1/"},"24GHz mmWave Human Static Presence Module Lite Wiki")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/mmWave-radar/24GHz_mmWave_Sensor-Human_Static_Presence_Module_Lite_User_Manual.pdf"},"24GHz mmWave Human Static Presence Module Lite User Manual")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://files.seeedstudio.com/wiki/mmWave-radar/24GHz_mmWave_Sensor-Human_Static_Presence_Module_Lite_Datasheet.pdf"},"24GHz mmWave Human Static Presence Module Lite sensor Datasheet"))),(0,i.kt)("h3",{id:"step-9-configure-home-assistant-panel"},"Step 9. Configure Home Assistant panel"),(0,i.kt)("p",null,"If you find the default cards very boring and unfriendly for presenting data, Home Assistant offers a wide range of ready-made dashboards to choose from."),(0,i.kt)("p",null,"You can make your own dashboard to suit your preferences."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/73.png"})),(0,i.kt)("p",null,"For example, the option to control the output of information is turned into a nice switch."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/74.png"})),(0,i.kt)("p",null,"Turning the speed of human movement into a visual dashboard display."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/75.png"})),(0,i.kt)("p",null,"This is what I came up with. It looks like it has the makings of a smart home control centre."),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:800,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/76.png"})),(0,i.kt)("p",null,"So far, we have successfully concluded our tutorial content."),(0,i.kt)("h2",{id:"connect-grove-to-home-assistant-using-xiao-esp32c3"},"Connect Grove to Home Assistant using XIAO ESP32C3"),(0,i.kt)("p",null,"Of course, there is more to the XIAO ESP32C3 than just support for the 24GHz mmWave Human Static Presence Module Lite in Home Assistant, and you can find more tutorials for your own use in this document."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://wiki.seeedstudio.com/Connect-Grove-to-Home-Assistant-ESPHome/"},"Connect Grove to Home Assistant using XIAO ESP32C3"))),(0,i.kt)("p",null,"Get your creative juices flowing!"),(0,i.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,i.kt)("h3",{id:"faq1-i-got-the-following-error-while-uploading-firmware-using-esphome-web-tool-how-can-i-fix-it"},"FAQ1: I got the following error while uploading firmware using ESPhome Web tool, how can I fix it?"),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:600,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/37.png"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A: If this prompt appears while uploading, disconnect the XIAO ESP32C3 from the PC. Then, hold the BOOT BUTTON, connect the board to your PC while holding the BOOT button, and then release it to enter bootloader mode. At this point it is sufficient to reconnect and upload the firmware again.")),(0,i.kt)("h3",{id:"faq2-i-cant-install-esphome-flasher-under-linux-following-the-tutorial-of-esphome-flasher"},"FAQ2: I can't install esphome flasher under Linux following the tutorial of esphome flasher?"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A: When executing the following commands, you need to select your system version, otherwise an error will occur. For example, my computer is Ubuntu 22.04, then the command that should be executed is as follows.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"sudo apt install python3\n\npip3 install -U \\\n    -f https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-22.04/ \\\n    wxPython\n\npip3 install esphomeflasher\n")),(0,i.kt)("h3",{id:"faq3-i-filled-in-the-correct-wifi-and-password-why-dont-i-see-the-ip-address-of-the-xiao-esp32c3"},"FAQ3: I filled in the correct WiFi and password, why don't I see the IP address of the XIAO ESP32C3?"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A: When you encounter this problem, please check that the XIAO ESP32C3's antenna is connected in place. If the antenna is already connected, please make sure that the XIAO is not further than 3m from the LinkStar if possible (unless you have replaced the antenna with a more powerful one).\nIf you still do not see XIAO, you can use the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/esphome/esphome-flasher"},"esphome flasher")," software to check the XIAO log information and check the XIAO connection through the logs.\nYou can re-plug the xiao to let it try to search for WiFi and connect again.")),(0,i.kt)("h3",{id:"faq4-my-xiao-esp32c3-is-connected-to-network-but-why-dont-i-see-the-sensor-data-refreshed"},"FAQ4: My XIAO ESP32C3 is connected to network, but why don't I see the sensor data refreshed?"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"As of June 1, 2023 troubleshooting has revealed that if you set any value or change any scene in the dashboard of ESPHome, there is a possibility that the radar will go down."),(0,i.kt)("p",{parentName:"admonition"},"As of 31 July 2023, the previous issue that would cause the radar to completely die has now been fixed, so please update the library files and configurator for this tutorial species to work properly.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A: In the previous Wiki content, we used the default UART pins (D6, D7) to receive and send data from the radar, but many users feedback there is a need to re-power the radar before it can work. In response, we ",(0,i.kt)("strong",{parentName:"p"},"updated the Wiki")," content and procedures to replace the serial ports of the radar with ",(0,i.kt)("strong",{parentName:"p"},"D2 and D3"),", and after testing, this fixes the problem very well.")),(0,i.kt)("div",{style:{textAlign:"center"}},(0,i.kt)("img",{src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/esphome-pinconnect.png",style:{width:600,height:"auto"}})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"If you haven't noticed the Wiki update, I suggest you re-wire the radar and re-write the compile and upload process following ",(0,i.kt)("a",{parentName:"strong",href:"#configure-the-xiao-esp32c3-and-esphome-connection"},"steps 2 and 5")," of this article's tutorial."))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"However, some users have responded that they still can't get the radar to work properly even after replacing the serial pins. So here, we propose the following methods and steps to check where the problem occurs, if you still can't solve the problem of radar working, ",(0,i.kt)("strong",{parentName:"p"},"please provide your operation steps to the technical support email"),", which can speed up the processing of after-sales problems.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Please check the following Exclusion in order.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Exclusion 1: Make sure the XIAO ESP32C3 is under the same LAN as the ESPHome deployed device."))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"If the XIAO ESP32C3 is not under the same LAN as the device of ESPHome, the log you see in Home Assistant is incomplete and cannot be used as the basis of data collection. So please double check your router to see if the IP address of XIAO appears.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Exclusion 2: Check that the Data Live Transfer button is on."))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"After XIAO is on the network and the device is successfully added, you will be able to see the radar components in the dashboard. Please note that by default the live data transfer button is off, you need to turn it on to be able to see the radar data being reported continuously.")),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{width:500,src:"https://files.seeedstudio.com/wiki/homs-xiaoc3-linkstar/69.png"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Exclusion 3: Check whether the radar can work properly."))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"We need to make sure that the radar works well with the XIAO ESP32C3 first, which will allow us to quickly identify whether it is a problem with ESPHome or the product. Please upload the following code to XIAO ESP32C3 in Arduino IDE, please note that the ",(0,i.kt)("strong",{parentName:"p"},"RX/TX pins of radar should be connected to D2/D3 of XIAO"),".")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'#include "Arduino.h"\n#include <humanstaticLite.h>\n#include <HardwareSerial.h>\n\n// can also try hardware serial with\nHumanStaticLite radar = HumanStaticLite(&Serial1);\n\nvoid setup() {\n  // put your setup code here, to run once:\n  Serial.begin(115200);\n  Serial1.begin(115200, SERIAL_8N1, 4, 5);\n  while(!Serial);   //When the serial port is opened, the program starts to execute.\n  Serial.println("Ready");\n}\n\nvoid loop() {\n  // put your main code here, to run repeatedly:\n  radar.recvRadarBytes();           //Receive radar data and start processing\n  radar.showData();                 //Serial port prints a set of received data frames\n  delay(200);                       //Add time delay to avoid program jam\n}\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Open the serial monitor and set the baud rate to 115200, if the radar is working properly then you should see a lot of numbers printed out.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"If you don't see any data output as soon as you do this step, re-flash the firmware for the radar according to the Wiki. We offer two ways for you to update the firmware: ",(0,i.kt)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Radar_MR24HPC1/#firmware-version-updates"},"Firmware Version Updates"),".")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"If you still haven't heard anything after updating the firmware, please don't be stingy and contact our technical support team directly. And inform them of everything you have already done.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Exclusion 4: The XIAO and radar work normally at the above check points, but after replacing the serial port pins, still can't get the radar real-time data."))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"If you have replaced the RX and TX pins of the radar to D2/D3 and have also carefully troubleshoot according to the above and still cannot get real-time data messages, please contact our technical support team. Before that, ",(0,i.kt)("strong",{parentName:"p"},"please let us know if the radar works properly in Arduino environment")," so that we can analyze and deal with the problem.")),(0,i.kt)("h2",{id:"faq5-i-used-the-jlink-flash-firmware-but-i-got-the-error-programming-of-range-address-0x08000000-failed-block-verification-error-program-failed-failed-to-program-and-verify-target-"},'FAQ5: I used the Jlink flash firmware, but I got the error "Programming of range @address 0x08000000 failed (block verification error) Program failed Failed to program and verify target" ?'),(0,i.kt)("p",null,"When you are using the Jlink flash firmware and this error occurs, then you may be in any one of the following situations."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Your sensor is no longer working properly at all and you cannot receive any messages from it."),(0,i.kt)("li",{parentName:"ol"},"You are trying to use an invalid or incorrect firmware.")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"If your radar was originally working properly, check again that you are using the correct firmware! The firmware used varies from radar to radar and from sensor model to sensor model! And the firmware upgrade via UART is not the same as the firmware upgrade via Jlink! Please stop proceeding with the following steps.")),(0,i.kt)("details",null,(0,i.kt)("summary",null,(0,i.kt)("strong",null,"I have confirmed that my product gets this error message in case of an exception")),(0,i.kt)("p",null,"If your radar is not working at all, then it may be normal to have this error message."),(0,i.kt)("p",null,"Because the abnormal operation of the radar has allowed the radar to trigger the read/write protection mechanism, the user is no longer allowed to flash program the product in general, so we need to unlock the radar's read/write protection mechanism."),(0,i.kt)("p",null,"Due to the high risk of unprotecting reads and writes, we do not disclose the method of unprotecting reads and writes separately to the public here, we will place the method in the ",(0,i.kt)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/Radar_MR24HPCB1/ArteryICPProgrammer_V2.4.23.zip"},"zip file here")," for those who need it. Once the abnormal radar is unprotected, the firmware can be updated again to restore normal operation.")),(0,i.kt)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.kt)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.kt)("div",{class:"button_tech_support_container"},(0,i.kt)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.kt)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.kt)("div",{class:"button_tech_support_container"},(0,i.kt)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.kt)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}u.isMDXComponent=!0}}]);